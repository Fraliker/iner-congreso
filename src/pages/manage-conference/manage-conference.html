<ion-header>
  <ion-navbar>
    <h2 ion-text color="primary" text-center>Gestionar Conferencias</h2>
  </ion-navbar>
</ion-header>

<ion-content *ngIf="isAuthenticated()">
  <div offset-md-2 col-md-8 padding text-center>
    <div text-right>
      <button ion-button clear *ngIf="!showAddConference" (click)="showAddConferenceForm(true)">Adicionar Ponente</button>
      <button ion-button clear *ngIf="showAddConference" (click)="showAddConferenceForm(false)">Ocultar Adicionar</button>
    </div>
    <div *ngIf="showAddConference">
      <ion-item *ngIf="submitAttempt">
        <p *ngIf="!conferenceForm.valid" text-center>Favor Completar Formulario.</p>
      </ion-item>
      <ion-list>
        <form [formGroup]="conferenceForm">
          <ion-item>
            <ion-label>Nombre:</ion-label>
            <ion-input formControlName="name" type="text"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>URL foto:</ion-label>
            <ion-input formControlName="profilePic" type="text"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Título:</ion-label>
            <ion-input formControlName="degree" type="text"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Correo:</ion-label>
            <ion-input formControlName="email" type="email"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label stacked>Bibliografía Corta:</ion-label>
            <ion-textarea style="resize: none;" rows="3" formControlName="shortAbout" type="text"></ion-textarea>
          </ion-item>
          <ion-item>
            <ion-label style="resize: none" stacked>Bibliografía</ion-label>
            <ion-textarea rows="5" formControlName="about" type="text"></ion-textarea>
          </ion-item>
          <!--      <ion-item>
          <ion-label>Privacy</ion-label>
          <ion-select formControlName="privacy">
            <ion-option value="public" checked="true">Public</ion-option>
            <ion-option value="friends">Friends Only</ion-option>
            <ion-option value="private">Private</ion-option>
          </ion-select>
        </ion-item>-->
          <br>
          <button *ngIf="!showupdateConference" type="button" ion-button color="primary" (click)="addConference()">Adicionar</button>
          <button *ngIf="showupdateConference" type="button" ion-button color="primary" (click)="updateConference()">Actualizar</button>
        </form>
        <br>
      </ion-list>
    </div>
    <ion-list>
      <ion-list-header no-lines>
        <h2> Listado de Conferencias</h2>
      </ion-list-header>
      <ion-item *ngFor="let conf of conferences | async">
        <ion-avatar [hidden]='smallDevice' item-start>
          <img *ngIf="!conf.profilePic" src="./../../assets/icon/favicon.ico">
          <img *ngIf="conf.profilePic" [src]="conf.profilePic">
        </ion-avatar>
        <!--<span class=".visible-md-*" [hidden]="isSM ? true : false"> {{ speak.degree }}</span> {{ speak.name }}-->
        <h2>{{ conf.title }}</h2>
        <p> {{ conf.shortDescription }}</p>
        <button type="button" title="Editar" (click)="loadConferenceToEdit(conf)" item-end ion-button clear icon-only>
        <ion-icon name="create"></ion-icon>
      </button>
        <button type="button" title="Eliminar" item-end (click)="removeConference(conf.$key)" item-end ion-button clear icon-only>
        <ion-icon title="Eliminar" item-end name="trash"></ion-icon>
      </button>
      </ion-item>
    </ion-list>
  </div>
</ion-content>
